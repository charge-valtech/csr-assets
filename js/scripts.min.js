$(function(){function a(){var a=navigator.userAgent,b=a.indexOf("Mozilla/5.0")>-1&&a.indexOf("Android ")>-1&&a.indexOf("AppleWebKit")>-1&&-1===a.indexOf("Chrome");b&&$("html").addClass("android-browser")}function b(a){var b=$(a),c=b.attr("data-val-length-max"),d=b.val(),e=(d.match(/\n/g)||[]).length,f=d.length+e,g=Math.abs(c-f),h=b.closest(".form-group").find(".maxchar-count"),i=b.closest(".form-group").find(".maxchar-text"),j=b.closest(".form-group").find(".aria-limit");c&&h.text(g),f>c?(h.parent().addClass("has-error"),i.text(" characters over the limit"),j.text("Character limit has been reached, you must type fewer than "+c+" characters"),1==g?i.text(" character over the limit"):i.text(" characters over the limit")):(h.parent().removeClass("has-error"),i.text(" characters remaining"),j.text(""),1==g?i.text(" character remaining"):i.text(" characters remaining"))}var c={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return c.Android()||c.BlackBerry()||c.iOS()||c.Opera()||c.Windows()}};c.any()&&(FastClick.attach(document.body),$("input[autofocus]").removeAttr("autofocus")),a(),$(".menu-trigger").on("click",function(){return $(this).next(".menu").toggleClass("menu-open"),$(this).toggleClass("triggered"),!1}),$(".mob-collpanel-trigger").on("click",function(){return $(this).next(".mob-collpanel").toggleClass("panel-open"),$(this).toggleClass("triggered"),!1}),$(".collpanel-trigger").on("click",function(){return $(this).next(".collpanel").toggleClass("panel-open"),$(this).toggleClass("triggered"),!1}),$(".button-toggler").on("click",function(){var a=$(this),b=a.attr("data-target");return $("#"+b).toggleClass("toggle-content"),!1}),$(".linked-input-master").on("keyup blur",function(){var a=$(this).val();$(".linked-input-slave").val(a),$(".linked-input-slave").removeClass("hidden").text(a),""==$(this).val()&&$(".linked-input-slave").addClass("hidden")}),$(".block-label").each(function(){var a=$(this).attr("data-target");$(".block-label input").focus(function(){$("label[for='"+this.id+"']").addClass("add-focus")}).blur(function(){$("label").removeClass("add-focus")}),$("input:checked").parent().addClass("selected"),$(this).hasClass("selected")&&$("#"+a).show()}),$(".block-label").on("click","input[type=radio], input[type=checkbox]",function(){var a=$(this),b=a.parent().attr("data-target");$("input:not(:checked)").parent().removeClass("selected"),$("input:checked").parent().addClass("selected"),void 0==b?(a.closest(".form-group").next(".toggle-content").hide().attr("aria-hidden",!0),a.closest(".form-group").find("[aria-expanded]").attr("aria-expanded",!1)):($("#"+b).show(),a.closest(".form-group").hasClass("blocklabel-single")&&(console.log("merp"),a.closest(".blocklabel-single-container").find(".blocklabel-content").not("#"+b).hide()))}),$(".amend-answers").on("click",function(){return $(this).closest(".form-group").toggleClass("expanded"),!1}),$(".update-answers").on("click",function(){$(this).closest(".form-group").toggleClass("expanded")}),$(".summary-trigger").on("click",function(){$(".summary-box").toggle()}),$(".summary-close").on("click",function(){$(".summary-box").toggle()}),$(".inpage-focus").on("click",function(){var a=$(this),b=a.attr("href"),c=$(b).attr("for");$("#"+c).focus()}),$("textarea").on("keyup",function(){b(this)}),$("textarea:not(:empty)").each(function(){b(this)}),setTimeout(function(){$("textarea[data-value]").each(function(){b(this)})},1e3),$(".tbody-3rows").each(function(){var a=$(this),b=a.find("tr").length,c=a.next(".tbody-expandrows"),d=a.find("tr:nth-of-type(3)").nextAll(),e=a.find("tr:nth-of-type(6)").nextAll();b>3&&!a.hasClass("tbody-withReasons")?(c.show(),d.hide().attr("aria-hidden",!0)):b>6&&a.hasClass("tbody-withReasons")&&(c.show(),e.hide().attr("aria-hidden",!0))}),$(".btnExpandRows").on("click",function(){var a=$(this),b=a.closest(".tbody-expandrows");return $tbody3Rows=b.prev(".tbody-3rows").find("tr:nth-of-type(3)").nextAll(),$tbodyWithReasons=b.prev(".tbody-withReasons").find("tr:nth-of-type(6)").nextAll(),!b.prev(".tbody-withReasons").length>0?$tbody3Rows.toggle():b.prev(".tbody-withReasons").length>0&&$tbodyWithReasons.toggle(),a.closest("table").toggleClass("opened"),a.text().indexOf("More")>-1?(a.html('<i class="fa fa-angle-up"></i>Less'),a.attr("aria-expanded",!1),!b.prev(".tbody-withReasons").length>0?$tbody3Rows.attr("aria-hidden",!1):b.prev(".tbody-withReasons").length>0&&$tbodyWithReasons.attr("aria-hidden",!1)):(a.html('<i class="fa fa-angle-down"></i>More'),a.attr("aria-expanded",!0),!b.prev(".tbody-withReasons").length>0?$tbody3Rows.attr("aria-hidden",!0):b.prev(".tbody-withReasons").length>0&&$tbodyWithReasons.attr("aria-hidden",!0)),!1}),$("[aria-expanded]").on("click",function(){var a=$(this),b=$(this).attr("aria-controls");a.parent().hasClass("selected")||(a.is('[aria-expanded="false"]')?($("#"+b).attr("aria-hidden",!1),a.attr("aria-expanded",!0)):($("#"+b).attr("aria-hidden",!0),a.attr("aria-expanded",!1)))}),$("[aria-hidden]").each(function(){var a=$(this).attr("id");$(this).is(":visible")&&($(this).attr("aria-hidden",!1),$('[aria-controls="'+a+'"]').attr("aria-expanded",!0))}),$("html").hasClass("lt-ie9")&&($(".list-checkradio input[type=radio]:checked").siblings("details").addClass("ie8-details"),$(".list-checkradio > li").on("click",function(){var a=$(this),b=a.find("details");$(".list-checkradio input[type=radio]").not(":checked").siblings("details").removeClass("ie8-details"),b.addClass("ie8-details")})),$(".tabbed-tab").attr("href","#"),$(".tabbed-tab").on("click",function(){var a=$(this),b=a.attr("tab");if(a.addClass("active"),$(".tabbed-tab").not($('[tab="'+b+'"]')).removeClass("active"),$(b).length)$(b).show(),$(".tabbed-content").not(b).hide();else{var c="."+b.substr(1);$(".tabbed-element"+c).show(),$(".tabbed-element").not(c).hide()}return!1}),$(".select-inject").on("change",function(){var a=$(this),b=a.find("option:selected"),c=b.text(),d=a.closest(".form-group").find(".select-injected"),e=b.val();d.val(c),$(".selfServe").each(function(){$(this).prop("id")==e&&($(this).show(),$(".selfServe").not($(this)).hide())}),0==$("#"+e).length&&$(".selfServe").hide(),"noSelect"==e&&d.val(""),d.focusout()}),$(".summary-style").on("click",function(){$this=$(this),$this.toggleClass("open"),$this.next(".detail-content").toggle()})}),function(a,b,c,d){function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init(),this.info="",this.className=""}var f="pwStrengthManager",g={password:"",blackList:[],minChars:"",maxChars:"",advancedStrength:!1};e.prototype={init:function(){if(zxcvbn)var b=!0;var c=this.customValidators();if(""==this.settings.password&&b)this.info="Cannot be empty",this.className="strength-weak";else if(0==c&&b){var d=zxcvbn(this.settings.password,this.settings.blackList),e=new RegExp("[A-Z]"),f=new RegExp("[a-z]"),g=new RegExp("[0-9]");d.score>=3&&this.settings.password.match(e)&&this.settings.password.match(f)&&this.settings.password.match(g)?(this.info="Very strong",this.className="strength-strong"):this.settings.password.match(e)&&this.settings.password.match(f)&&this.settings.password.match(g)?(this.info="Strong",this.className="strength-strong"):(this.info="Too weak",this.className="strength-weak")}a(this.element).html(this.info).removeClass().addClass(this.className)},minChars:function(){return this.settings.password.length<this.settings.minChars?(this.info="At least "+this.settings.minChars+" characters",!1):!0},customValidators:function(){var a=0;return""!=this.settings.minChars&&(this.minChars()||a++),a}},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f,new e(this,b))}),this}}(jQuery,window,document),$(function(){$(".no-details").on("click keypress","summary",function(a){var b=$(this);(13===a.which||"click"===a.type)&&b.parent().toggleClass("open")})});